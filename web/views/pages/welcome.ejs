<%- contentFor('body') %>
<div class="float-right">
  <!--i class="material-icons md-36 orange600">Last Report
</i-->

</div><br>
<div class="table-responsive">
  <div id="canvas-holder" style="width:50%" class="float-right">
		<canvas id="radar-area"></canvas>
	</div>
  <div id="canvas-holder" style="width:50%">
		<canvas id="chart-area"></canvas>
	</div>
  <% if(report) { %>


  <script>
    //Config TOTAL FILES SCANNED GRAPH
		var config = {
			type: 'pie',
			data: {
				datasets: [{
					data: [
						<%= report.Files[0].Total %>,
						<%= report.Files[1].Total %>,
            <%= report.Files[2].Total %>,
					],
					backgroundColor: [
						window.chartColors.red,
						window.chartColors.green,
						window.chartColors.blue,
					],
					label: 'Total Files Scanned'
				}],
				labels: [
					'<%= report.Files[0].Type %>',
					'<%= report.Files[1].Type %>',
					'<%= report.Files[2].Type %>'
				]
			},
			options: {
				responsive: true,
        title: {
          display: true,
          text: 'Total Files Scanned'
        },
			}
		};

    //CONFIG INFECTED FILES GRAPH
    var color = Chart.helpers.color;
    var configInfected = {
      type: 'radar',
      data: {
        labels: [['<%= report.Files[0].Type %>'], ["<%= report.Files[1].Type %>"], '<%= report.Files[2].Type %>'],
        datasets: [{
          label: 'Total Files',
          backgroundColor: color(window.chartColors.blue).alpha(0.2).rgbString(),
          borderColor: window.chartColors.blue,
          pointBackgroundColor: window.chartColors.blue,
          data: [
            <%= report.Files[0].Total %>,
            <%= report.Files[1].Total %>,
            <%= report.Files[2].Total %>
          ]
        }, {
          label: 'Infected Files',
          backgroundColor: color(window.chartColors.red).alpha(0.2).rgbString(),
          borderColor: window.chartColors.red,
          pointBackgroundColor: window.chartColors.red,
          data: [
          <%= report.Files[0].Infected %>,
          <%= report.Files[1].Infected %>,
          <%= report.Files[2].Infected %>
          ]
        }]
      },
      options: {
        responsive: true,
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Total Files Infected'
        },
        scale: {
          ticks: {
            beginAtZero: true
          }
        }
      }
    };


		window.onload = function() {
			var ctx = document.getElementById('chart-area').getContext('2d');
			window.myPie = new Chart(ctx, config);
      window.myRadar = new Chart(document.getElementById('radar-area'), configInfected);
		};

	// 	var colorNames = Object.keys(window.chartColors);
  //
  //
  //
  //
  // var colorNames = Object.keys(window.chartColors);


</script>
<% } %>
  <div class="clearfix"></div>

</div>
